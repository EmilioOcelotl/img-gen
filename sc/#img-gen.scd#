
(
m = NetAddr("localhost", 41234);// local machine
)

m.sendMsg("/switchHydra",4);

m.sendMsg("/retroB", 1 );
m.sendMsg("/retroB", 0 );

m.sendMsg("/partB", 1 );
m.sendMsg("/partB", 0 );

m.sendMsg("/tiempo", 1 );
m.sendMsg("/tiempo", 0 );

m.sendMsg("/distort", 0.08 );
m.sendMsg("/velocidad", 0.4 );

m.sendMsg("/cajascale", 1);
m.sendMsg("/partscale", 0.1 );

m.sendMsg("/cajasBool", 1 );
m.sendMsg("/cajasBool", 0 );

m.sendMsg("/afterimage", 0 );
m.sendMsg("/glitchBool", 1 );
m.sendMsg("/glitchBool", 0 );
m.sendMsg("/camdist", 50 );
m.sendMsg("/velrot", 0.3 );


(
q = ();
NetAddr.broadcastFlag = true;
q.addrs = (0..7).collect { |x|
		NetAddr("255.255.255.255", 57120 + x)
};
q.sendAll = { |q ... args|
		q.addrs.do { |addr|
				addr.sendMsg(*args)
		}; ""
}


);


// hola

(

//PirS.start;
m.sendMsg("/textON", 1);

History.start;
//History.makeWin;

OSCdef(\hist, { |msg|
	//msg.postln;
	History.enter(msg[2].asString, msg[1]);
}, \hist).fix;

OSCdef(\ofx, { |msg|
	m.sendMsg("/message", msg[2].asString, msg[1].asString);
z = z.add(msg[2].asString);
if(z.size == 10,
	{z.removeAt(0)
	});
//z.postln;
	//PirS.n.sendMsg("/multimsg", 1, (2300).rand2-600, (1000).rand2+500, 10.rand, 360.rand2, 60.rand2, z[6]);
	//PirS.n.sendMsg("/multimsg", 2, (1300).rand2-600, (1000).rand2+500, 10.rand, 360.rand2, 60.rand2, z[5]);
	//PirS.n.sendMsg("/multimsg", 3, (600).rand2-300, (1000).rand2+500, 10.rand, 360.rand2, 60.rand2, z[4]);
	//PirS.n.sendMsg("/multimsg", 4, (600).rand2-300, (1000).rand2+500, 10.rand, 360.rand2, 60.rand2, z[3]);
	//PirS.n.sendMsg("/multimsg", 5, (600).rand2-300, (1000).rand2+500, 10.rand, 360.rand2, 60.rand2, z[2]);
	//PirS.n.sendMsg("/multimsg", 6, (600).rand2-300, (1000).rand2+500, 10.rand, 360.rand2, 60.rand2, z[1]);

}, \hist);


History.localOff;

History.forwardFunc = { |code|
	//q.sendAll(\hist, \killall, code);
	q.sendAll(\hist, \emi, code);
};

)


